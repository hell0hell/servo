/****************************************************************************************************/
/*																									*/
/*																									*/
/*		制御用パラメータ変数一括変換処理定義ヘッダーファイル										*/
/*																									*/
/*																									*/
/************** Copyright (C) Yaskawa Electric Corporation ******************************************/
/*																									*/
/*	Note	:	初版	2010.09.28	Y.Oka	For INGRAM												*/
/*																									*/
/*	Log		:	Ver1.00																				*/
/*																									*/
/****************************************************************************************************/
#ifndef	_CTRLPRM_TRANSDUCER_H
#define _CTRLPRM_TRANSDUCER_H


#include "Basedef.h"



/****************************************************************************************************/
/*																									*/
/*		STRUCT DEFINITION																			*/
/*																									*/
/****************************************************************************************************/
typedef struct _TRANSDUCE_CTRL {
	BOOL		TranslateMode;		/* モード選択：割り込み処理の使用(1)/不使用(0)					*/
	UCHAR		TranslateSts;		/* 変換状態：実行要求中(1 or 2)/完了(0)							*/
	UCHAR		TranslateSize;		/* 変換データサイズ												*/
	USHORT		Dummy;				/* for Alignment												*/
	ULONG		*TargetAddress;		/* 変換先アドレス												*/
	ULONG		DataArray[32];		/* 変換データのテンポラリバッファ								*/
} TRANSDUCE_CTRL;


/****************************************************************************************************/
/*																									*/
/*		DEFINES																						*/
/*																									*/
/****************************************************************************************************/
/****************************************************************************************************/
/*		転送用サイズ定義																			*/
/****************************************************************************************************/
#define		TR_DATA_MAX				32			/* 一括転送用書き込みデータ数[WORD]					*/

/****************************************************************************************************/
/*		転送方式																					*/
/****************************************************************************************************/
enum TR_MODE {
	TMODE_DIRECT		= 0,					/* 変換モード：DIRECT(割り込み起動前)				*/
	TMODE_INTERRUPT		= 1,					/* 変換モード：INTERRUPT(割り込み起動後)			*/
};

/****************************************************************************************************/
/*		転送エラー定義																				*/
/****************************************************************************************************/
enum TR_ERR_STATUS {
	TR_DATA_ERROR		= -1,					/* 一括転送エラーステータス							*/
	TR_SUCCESS			= 0,					/* 一括転送データ設定完了							*/
};

/****************************************************************************************************/
/*		転送状態定義																				*/
/****************************************************************************************************/
enum TR_STATUS {
	TR_READY			= 0,					/* 一括転送空き状態(READY状態)						*/
	TR_REQ_SCANA		= 1,					/* ScanAへ一括転送要求中(BUSY状態)					*/
	TR_REQ_SCANB		= 2,					/* ScanBへ一括転送要求中(BUSY状態)					*/
};
/*--------------------------------------------------------------------------------------------------*/



/****************************************************************************************************/
/*																									*/
/*		PROTOTYPE																					*/
/*																									*/
/****************************************************************************************************/
/****************************************************************************************************/
/*		Globals																						*/
/****************************************************************************************************/
void	TranlateCtrlPrmInitialize( TRANSDUCE_CTRL *TransDuceCtrl );
LONG	TranlateCtrlPrmRequest( TRANSDUCE_CTRL *TransDuceCtrl, void *Data, ULONG *Address, UCHAR Size, CHAR Timing );
void	TranlateCtrlPrm( TRANSDUCE_CTRL *TransDuceCtrl );

/****************************************************************************************************/
/*		API's																						*/
/****************************************************************************************************/
/* 転送モード変更用API */
__inline	void	TranlateCtrlSetIntMode( TRANSDUCE_CTRL *TransDuceCtrl )
{
	TransDuceCtrl->TranslateMode = TMODE_INTERRUPT;
}
/* 転送要求取得用API */
__inline	UCHAR	TranlateCtrlGetReq( TRANSDUCE_CTRL *TransDuceCtrl )
{
	return (TransDuceCtrl->TranslateSts);
}



/****************************************************************************************************/
/*																									*/
/*		EXTERN																						*/
/*																									*/
/****************************************************************************************************/



/***************************************** end of file **********************************************/
#endif /* _CTRLPRM_TRANSDUCER_H */
