#ifndef	_M3MsgIF_H /* 再読み込み防止用 */
/****************************************************************************************************/
/*																									*/
/*																									*/
/*		M3msgIF.h : ラウンド処理関数定義															*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/*																									*/
/************** Copyright (C) Yaskawa Electric Corporation ******************************************/
/*																									*/
/*																									*/
/*																									*/
/*	Note	:	初版	2010.09.03	T.Kira	For INGRAM												*/
/*																									*/
/*	Log		:	Ver1.00																				*/
/*																									*/
/****************************************************************************************************/
#include "MemobusIF.h"


/****************************************************************************************************/
/*		DEFINES																						*/
/****************************************************************************************************/
//#define	OPT1_PORT_USE	1					/* M-3基板時OPT1通信ポートG2 i/f使用する			*/
//#define	OPT2_PORT_USE	1					/* M-3基板時OPT2通信ポートG2 i/f使用する			*/

/****************************************************************************************************/
/*																									*/
/*		Macro Definition																			*/
/*																									*/
/****************************************************************************************************/
#define	OPT_MSG_TIMEOUT			20000			/* 20[sec]											*/
/*--------------------------------------------------------------------------------------------------*/
typedef enum M3_MSG_STEP_ {

	M3MSGSTEP_INITIAL = 0,					/* 初期ステップ					*/
	M3MSGSTEP_START_RX,						/* 受信開始						*/
	M3MSGSTEP_WAIT_RX,						/* 受信完了確認					*/
	M3MSGSTEP_EXE,							/* メッセージ解析&処理実行		*/
	M3MSGSTEP_WAIT_STX,						/* 送信開始						*/
	M3MSGSTEP_WAITETX,						/* 送信完了確認					*/
}M3_MSG_STEP;

/****************************************************************************************************/
/*		STRUCT DEFINITION																			*/
/****************************************************************************************************/

/*--------------------------------------------------------------------------------------------------*/
/*		通信マネージャ定義																			*/
/*--------------------------------------------------------------------------------------------------*/
typedef struct	{

	/* ＩＦデータ定義 */
	MEMOBUS_IF	MbusIf;  

	/* 内部処理用 */
	UCHAR		Channel;		/* チャンネル情報					*/
	M3_MSG_STEP	stateOfM3Msg;	/* 送受信監視シーケンスStep			*/
	LONG		Rc;				/* 戻り値を一時置いておく変数		*/

} M3MSGIFV;

/****************************************************************************************************/
/*		PROTOTYPE																					*/
/****************************************************************************************************/
//<S150>void	M3MsgIfInit(M3MSGIFV *M3MsgPtr, MEMOBUS_ADDR_MAP *AxisCfg, UCHAR	Channel);
//<S150>void	M3MsgIfManager( M3MSGIFV *M3MsgPtr );


/****************************************************************************************************/
/*		EXTERN LIST																					*/
/****************************************************************************************************/
/* M-3 Message Interface */
//extern M3MSGIFV			M3MsgC1V;						/* C1メッセージ通信データ				*/
//extern M3MSGIFV			M3MsgC2V;						/* C2メッセージ通信データ				*/

/***************************************** end of file **********************************************/
#define _M3MsgIF_H /* 再読み込み防止用 */
#endif /* _M3MsgIF_H */
